<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script>
            function copy()
            {
                navigator.clipboard.writeText( document.getElementById( "code" ).innerText ) ; 
            }
        </script>
    </head>
    <body>
        <button id="copy" onclick="copy()">複製</button>
        <pre id="code" style="font-family:monospace;">import random
import discord
import unicodedata
from discord.ext import commands
from typing import Optional

WIDE_MAP = {i: i + 0xFEE0 for i in range(0x21, 0x7F)}
WIDE_MAP[0x20] = 0x3000

def is_made_up_of(m, s):
    i = 0
    m = m.upper()
    remove_s = str.maketrans('', '', s)
    for c in s:
        if i == 2:
            return False
        i = 0
        for cc in m:
            if cc == c:
                if i > 0:
                    i = 2
                    break
                i = 1
    if not ( i == 2 or m.translate(remove_s) ):
        return True
    return False

intents = discord.Intents.all()

bot = commands.Bot(command_prefix='$', intents=intents)


@bot.tree.command(name='me',description='Indicates what u r.')
async def me(interaction):
    await interaction.response.send_message(f'{interaction.user.mention}是男娘')


@bot.tree.command(name='sb',description='提及某人。未指定則提及訊息發送者。')
async def sb(interaction, member: Optional[discord.Member] = None):
    if member is None:
        member = interaction.author
    await interaction.response.send_message(f'{member.mention}是男娘')


@bot.tree.command(name='welcome',description='歡迎某人，未指定則為指令發出者')
async def welcome(interaction, member: Optional[discord.Member] = None):
    if member is None:
        member = interaction.user
    await interaction.response.send_message(f'{member.mention}歡迎進入左右丞')


@bot.tree.command(name='userinfo',description="Responses someone's userinfo. If parameter is not given, it will return info about the current user." )
async def userinfo(interaction, member: Optional[discord.Member] = None):
    if member is None:
        member = interaction.user
    roles = [role.name for role in member.roles[1:]]
    await interaction.response.send_message(f'User name: {member.name}\nUser ID: {member.id}\nJoined at: {member.joined_at}\nRoles: {', '.join(roles)}')


@bot.tree.command(name='ciallo',description='柚子廚蒸鵞心')
async def ciallo(interaction):
    await interaction.response.send_message('Ciallo～(∠・ω＜)⌒☆\n⢦⣿⣿⣿⣿⣱⣿⣿⣿⣿⠫⢴⢖⣴⣿⣿⠯⢏⡴⠁⣿⢃⡄⣿\n⡘⢮⣾⣿⣿⣇⣿⣿⣿⣝⠁⠁⠀⠀⠉⠩⡷⠫⡊⢰⣾⣣⣿⡇⣿\n⣴⣿⣿⣿⣿⢸⣿⡏⣿⠇⡰⠋⠡⠀⠀⠠⡀⠻⣕⢎⣵⣿⣿⢹⣿\n⣿⣿⣿⣿⢓⢸⣿⡇⣿⣀⠁⠀⠀⠀⠀⢀⣿⣈⣵⣿⣿⣿⡟⣾⣻\n⣿⣿⣿⣋⢘⠸⣟⢻⢻⣿⡼⣦⣀⣠⣾⣾⣿⣿⣿⣿⣿⡿⠽⢟⡁\n⣛⢟⣣⣧⣡⣏⣓⢿⣤⢻⣿⣿⣿⣥⣾⣿⣿⣿⣿⣿⠿⠐⠀⢉⡀\n⡵⢯⣶⡍⡃⠀⠰⡴⣇⣿⣿⣿⣿⡿⣫⣽⣯⡻⣿⣷⣤⡘⠻⢟⣼\n⣻⣿⣿⣷⡟⣶⡄⢀⠘⠌⠻⣿⣿⢱⣿⣿⣿⣿⢸⣿⣿⣿⣶⢠⡶\n⣿⣿⣿⣿⣽⣿⣿⣆⠁⠀⠠⡀⠙⠸⢿⠿⢟⣵⣿⣿⣿⣿⠿⣸⣿\n⢿⣯⣷⣿⣿⣿⣿⣿⣧⢦⣤⠱⡀⠀⠀⠀⠉⠉⠉⠉⢉⣰⢺⣿⠇\n☆⌒( >ω・∠)～ollɐıɔ ~')


@bot.tree.command(name='子曰',description='子不語怪力亂神')
async def 子曰(interaction, message_to_quote:Optional[str]= ' ' * 15):
    spaces = ''
    # for c in mm:
    #     m += ' ' + c
    if '怪力亂神' in message_to_quote:
        await interaction.response.send_message('子不語，以怪力將你打至重傷，精神錯亂')
    else:
        for c in message_to_quote:
            if unicodedata.east_asian_width(c) == 'F' or unicodedata.east_asian_width(c) == 'W':
                spaces += '　'
            else:
                spaces += ' '
        await interaction.response.send_message(f'''```                 __._
                / ___)_
               (_/Y ===\\          {spaces}__
               |||.==. =).        {spaces}  |
               |((| o |p|      |  {message_to_quote}  |
            _./| \\(  /=\\ )     |__
          /  |@\\ ||||||||.
         /    \\@\\ ||||||||\\
        /   \\  \\@\\ ||||||//\\
       (     Y  \\@\\|||| // _\\
       |    -\\   \\@\\ \\\\//    \\
       |     -\\__.-./ //\\.---.^__
       | \\    /  |@|__/\\_|@|  |  |
       \\__\\      |@||| |||@|     |
       <@@@|     |@||| |||@|    /
      / ---|     /@||| |||@|   /
     |    /|    /@/ || |||@|  /|
     |   //|   /@/  ||_|||@| / |
     |  // \\ ||@|   /|=|||@| | |
     \\ //   \\||@|  / |/|||@| \\ |
     |//     ||@| /  ,/|||@|   |
     //      ||@|/  /|/||/@/   |
    //|   ,  ||//  /\\|/\\/@/  / /
   //\\   /   \\|/  /H\\|/H\\/  /_/
  // |\\_/     |__/|H\\|/H|\\_/
 |/  |\\        /  |H===H| |
     ||\\      /|  |H|||H| |
     ||______/ |  |H|||H| |
      \\_/ _/  _/  |L|||J| \\_
      _/  ___/   ___\\__/___ '-._
     /__________/===\\__/===\\---'```''')


@bot.tree.command(name='quote',description='讓螃蟹說')
async def quote(interaction, message_to_quote:Optional[str]= ' ' * 15):
    spaces = ''
    tabs = '\t\t'
    # for c in mm:
    #     m += ' ' + c
    for c in message_to_quote:
        if unicodedata.east_asian_width(c) == 'F' or unicodedata.east_asian_width(c) == 'W':
            spaces += '－'
        else:
            spaces += '-'
    if len(message_to_quote) <= 10:
        tabs = '\t'
    await interaction.channel.send(f'''``` {spaces}
<{message_to_quote}>
 {spaces}
{tabs}\\
{tabs} \\
{tabs}    _~^~^~_
{tabs}\\) /  o o  \\ (/
{tabs}  '_   -   _'
{tabs}  / '-----' \\```''')


@bot.event
async def on_ready():
    await bot.tree.sync()

@bot.event
async def on_member_join(m):
    roles = [discord.utils.get(m.guild.roles, name='白族'), discord.utils.get(m.guild.roles, name='党項'), discord.utils.get(m.guild.roles, name='女直')]
    await m.guild.text_channels[0].send(f'{m.mention}是男娘')
    await m.add_roles(discord.utils.get(m.guild.roles, name='人'))
    await m.add_roles(roles[random.randint(0, len(roles) - 1)])


@bot.event
async def on_message(m):
    await bot.process_commands(m)
    if '男娘' in m.content and not m.author.bot:
        await m.reply('我才不是男娘')
    if bot.user.mentioned_in(m) and not m.author.bot:
        await m.channel.send(f'{m.author.mention}你才男娘')
    if '左右丞' in m.content and not m.author.bot:
        await m.reply(f'{discord.utils.get(m.guild.members, name='tablegame___').mention}是男娘')
    if '宋啦' in m.content and not m.author.bot:
        await discord.utils.get(m.guild.channels, name='宋').send(f'宋啦')
    if ('南一中' in m.content or '國立臺南第一高級中學' in m.content or '臺南第一高中' in m.content or '南部分校' in m.content or '國立臺南第一高級中等學校' in m.content or 'tnfsh' in m.content) and not m.author.bot:
        await m.reply(f'南一中是我們神聖不可分割的一部分，我們堅持統一一中之大業。')
    if 'CIALLO' in m.content.upper() and not m.author.bot:
        await m.reply(f'{m.author.mention}柚子廚蒸鵞心')
    if m.content.upper() == 'SYBAU' and not m.author.bot:
        await m.channel.send('https://minnnnnnnnnnnnnnnnnnnnn.github.io/i/sybau.jpeg')
    elif is_made_up_of(m.content, 'SYBAU') and not m.author.bot:
        print('sybau')
        await m.channel.send('https://minnnnnnnnnnnnnnnnnnnnn.github.io/i/subway.jpeg')
    elif m.content.upper() == 'SUBWAY' and not m.author.bot:
        await m.channel.send('https://minnnnnnnnnnnnnnnnnnnnn.github.io/i/subway_mark.png')
    elif is_made_up_of(m.content, 'SUBWAY') and not m.author.bot:
        print('subway')
        await m.channel.send('https://minnnnnnnnnnnnnnnnnnnnn.github.io/i/subway.jpeg')


@bot.event
async def on_message_edit(before, m):
    await bot.process_commands(m)
    if '左右丞' in m.content:
        await m.reply(f'原始訊息：\n{before.content}\n\n{discord.utils.get(m.guild.members, name='tablegame___').mention}是男娘')

bot.run('')
        </pre>
    </body>
</html>
